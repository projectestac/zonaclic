<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><!-- InstanceBegin template="/Templates/basic_en.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<!-- InstanceBeginEditable name="doctitle" --> 
<title>ZonaClic - JClic reports - Configuraci&oacute;n estandar con MySQL en Debian</title>
<!-- InstanceEndEditable --> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link href="../../../css/basic.css" rel="stylesheet" type="text/css">
<script language="JavaScript" src="../../../scripts/mm.js" type="text/JavaScript"></script>
<!-- InstanceBeginEditable name="head" --><!-- InstanceEndEditable --> 
<meta http-equiv="Content-Language" content="en">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<meta name="keywords" content="clic jclic education educational software educaci� educaci�n programari educatiu software educativo">
</head>
<body>
<div align="center"> 
 <table border="0" width="758" cellpadding="0" cellspacing="0">
  <tr>
   <td><img src="../../../img/spacer.gif" width="20" height="1" border="0" alt=""></td>
   <td><img src="../../../img/spacer.gif" width="718" height="1" border="0" alt=""></td>
   <td><img src="../../../img/spacer.gif" width="20" height="1" border="0" alt=""></td>
   <td><img src="../../../img/spacer.gif" width="1" height="1" border="0" alt=""></td>
  </tr>
  <tr>
   <td colspan="4"><object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="https://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,29,0" width="758" height="80">
          <param name="movie" value="../../../img/nav_en.swf">
          <param name="quality" value="high">
          <param name="BGCOLOR" value="#CCFF99">
          <param name="BASE" value="/legacy/img">
          <embed src="../../../img/nav_en.swf" width="758" height="80" quality="high" pluginspage="https://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" bgcolor="#CCFF99" base="/legacy/img"></embed></object></td>
  </tr>
  <tr>
   <td><img name="f0_r2_c2" src="../../../img/f0_r2_c2.gif" width="20" height="20" border="0" alt=""></td>
   <td><img name="f0_r2_c3" src="../../../img/f0_r2_c3.gif" width="718" height="20" border="0" alt=""></td>
   <td><img name="f0_r2_c4" src="../../../img/f0_r2_c4.gif" width="20" height="20" border="0" alt=""></td>
   <td><img src="../../../img/spacer.gif" width="1" height="20" border="0" alt=""></td>
  </tr>
  <tr>
      <td width="20" height="200" background="../../../img/f0_r3_c2.gif">&nbsp;</td>
   <td class="main" width="718" valign="top"><script language="JavaScript" src="../../../scripts/av_en.js" type="text/JavaScript"></script><!-- InstanceBeginEditable name="zona0" --> 
<p class="topMenu"><a href="../../index.htm">home</a> | <a href="../index.htm">JClic</a><strong> 
          </strong>| <a href="index.htm">JClic reports</a> | Configuraci&oacute;n
          mySQL - Debian </p>
        <p class="t1">JClic reports server<br>
        Configuraci&oacute;n est&aacute;ndar con mySQL en Linux (Debian, Ubuntu)</p>
        <p><strong>P&aacute;gina actualizada el 6 de noviembre de 2013<br>
Las instrucciones se han probado en Linkat Ubuntu 12.04</strong></p>
        <p><strong>MySQL</strong> (<a href="http://www.mysql.com">http://www.mysql.com</a>) es
          un sistema de bases de datos profesional, con licencia de software libre y disponible en diversos tipos de ordenadores y entornos operativos.</p>
        <p>La modalidad est&aacute;ndar de funcionamiento del servidor de informes
          de JClic necesita un escritorio gr&aacute;fico (Gnome o KDE), una m&aacute;quina
          virtual Java actualizada y
          el sistema de arranque de aplicaciones Java WebStart. En la <a href="../instjava.htm">p&aacute;gina
          de instalaci&oacute;n del
          motor Java</a> se explica como configurar estos componentes en diversos entornos operativos.</p>
        <p class="t2">1. Creaci&oacute;n de la base de datos</p>
        <p>Dividiremos esta operaci&oacute;n en dos fases: instalar
          MySQL y crear una base de datos para el sistema de informes
          de JClic. Si en su sistema ya est&aacute; MySQL instalado puede
          pasar directamente al <a href="#crea">paso 1.2</a>.</p>
        <p class="t3">1.1. Instalaci&oacute;n de MySQL   </p>
        <p>Para instalar y configurar MySQL ser&aacute; necesario abrir una consola (Ctrl+Alt+T) y ejecutar las ordenes que se indican a continuaci&oacute;n. Es necesario que el usuario que las ejecute tenga permisos de administraci&oacute;n (que sea &quot;sudoer&quot;) y que introduzca su contrase&ntilde;a cuando el sistema se lo solicite:</p>
        <p class="main">Instale mySQL escribiendo:</p>
        <p class="codi">%&gt; sudo apt-get install mysql-server mysql-client libmysql-java </p>
        <p>Si todo funciona correctamente de descargar&aacute;n los archivos y aparecer&aacute; una pantalla en la que le preguntaran qu&eacute; contrase&ntilde;a desea establecer para el usuario &quot;root&quot; de mySQL. Introduzca la contrase&ntilde;a que crea m&aacute;s conveniente (no tiene porqu&eacute; coincidir con su contrase&ntilde;a de usuario) y rep&iacute;tala cuando se le solicite confirmaci&oacute;n.</p>
        <p class="t3"><a name="crea"></a>1.2 Creaci&oacute;n de la base de datos de JClic reports          </p>
        <p>A continuaci&oacute;n crearemos la base de datos de informes de JClic, y un nuevo usuario de mySQL que tendr&aacute; plenos derechos sobre ella. Tambi&eacute;n cargaremos un conjunto de datos de demostraci&oacute;n, que nos permitir&aacute;n comprobar el funcionamiento del sistema.</p>
        <p>Sit&uacute;ese en cualquier directorio donde tenga derechos de escritura (por ejemplo, &ldquo;cd $HOME&rdquo;) y haga:</p>
        <p class="codi">%&gt; sudo mysql -u root -p</p>
        <p>El sistema le pedir&aacute; la contrase&ntilde;a del usuario <em>root</em> de mySQL. Cuando haya entrado, cree la base de datos: </p>
        <p class="codi">mysql&gt; CREATE DATABASE JClicReports;</p>
        <p>Para comprobar que todo haya ido bien, escriba:</p>
        <p class="codi">mysql&gt; SHOW DATABASES;</p>
        <p>... y la base de datos <em>JClicReports</em> deber&iacute;a aparecer en la lista.</p>
        <p>Ahora crearemos un usuario (<em>jclic_user</em>) con una contrase&ntilde;a (la que desee: aqu&iacute; se propone <em>jclic_pwd</em>) y le daremos plenos derechos sobre la base de datos que acabamos de crear:</p>
        <p class="codi">mysql&gt; CREATE USER 'jclic_user'@'localhost' IDENTIFIED BY 'jclic_pwd'</p>
        <p class="codi">mysql&gt; GRANT ALL PRIVILEGES ON JClicReports.*<br>
  -&gt; TO 'jclic_user'@'localhost'<br>
  -&gt; WITH GRANT OPTION;</p>
        <p class="main">Cierre la consola de mySQL con:</p>
        <p class="codi">mysql&gt; exit</p>
        <p>A continuaci&oacute;n descargue y descomprima el paquete de datos de prueba:</p>
        <p class="codi">%&gt; wget https://clic.xtec.cat/pub/reports/jclic_test_mysql.zip<br>
  %&gt; unzip jclic_test_mysql.zip</p>
        <p> Con eso obtendr&aacute; el archivo <strong>jclic_test_mysql.sql</strong></p>
        <p>Para cargar los datos entre en mySQL con el usuario <em>jclic_user</em>:</p>
        <p class="codi">%&gt; sudo mysql -u jclic_user -p</p>
        <p>Le pedir&aacute; la contrase&ntilde;a del usuario <em>jclic_user</em> que ha creado hace un momento. Si ha seguido la sugerencia ser&aacute; <em>jclic_pwd</em>. </p>
        <p>Para cargar los datos puede utilizar la orden &ldquo;\.&rdquo;:</p>
        <p class="codi">mysql&gt; use JClicReports;<br>
        mysql&gt; \. jclic_test_mysql.sql</p>
        <p>Atenci&oacute;n al espacio entre el &ldquo;\.&rdquo; y el nombre del archivo, y atenci&oacute;n tambi&eacute;n a la extensi&oacute;n (&ldquo;.sql&rdquo;) del nombre del archivo.</p>
        <p>Para comprobar que los datos se hayan cargado correctamente haga:</p>
        <p class="codi">mysql&gt; SELECT * FROM JCLIC_USERS;</p>
        <p>.. y deber&iacute;an aparecer los datos de los usuarios.</p>
        <p>Para acabar salga de mySQL con:</p>
        <p class="codi">mysql&gt; exit<br>
        </p>
        <p class="t2">2. Configuraci&oacute;n del conector JDBC </p>
        <p>Para que <strong>JClic reports</strong> pueda acceder a la base de datos mySQL ser&aacute; necesario instalar un conector JDBC. Dado que en el paso 1 hemos instalado el paquete &quot;libmysql-java&quot;, el conector se encuentra ya en nuetro ordenador. Se trata del archivo &quot;mysql-connector-java.jar&quot;, que se encuentra en el directorio &quot;/usr/share/java&quot;. Ahora ser&aacute; necesario que el motor Java reconozca de manera autom&aacute;tica esta extensi&oacute;n. Para conseguirlo hay que copiar o crear un enlace simb&oacute;lico del conector al directorio de extensiones del entorno de ejecuci&oacute;n de Java.</p>
        <p>Las &oacute;rdenes a dar son:</p>
        <p class="codi">%&gt; sudo mkdir -p /usr/java/packages/lib/ext<br>
  %&gt; cd /usr/java/packages/lib/ext<br>
  %&gt; sudo ln -s /usr/share/java/mysql-connector-java.jar . </p>
        <p><strong>Atenci&oacute;n:</strong> El punto final es importante.</p>
        <p class="t2">3. Configuraci&oacute;n de JClic reports</p>
   <p>Para poner en marcha <strong>JClic reports</strong> puede optar entre hacer clic en el icono situado en la <a href="../download.htm">p&aacute;gina de descarga de JClic</a> o en alguno de los iconos que se crear&aacute;n en el escritorio y en el men&uacute; <em>Inicio</em> despu&eacute;s de haberlo utilizado un par de veces. Tambi&eacute;n puede descargar y ejecutar el instalador, que copiar&aacute; el programa en su ordenador y crear&aacute; un icono en el men&uacute; <em>Inicio</em>. Esta segunda opci&oacute;n tiene el inconveniente de que la aplicaci&oacute;n no se actualiza autom&aacute;ticamente al publicarse nuevas versiones, a diferencia de lo pasa con Java WebStart.</p>
   <ul>
     <li>Haga clic en <strong>Configuraci&oacute;n...</strong></li>
   <li>Active la pesta&ntilde;a <strong>Base
           de datos</strong>.</li>
     <li>Escriba en <strong>Controlador</strong> la expresi&oacute;n: <span class="codi">com.mysql.jdbc.Driver</span></li>
   <li>Escriba en <strong>URL</strong>       la expresi&oacute;n: <span class="codi">jdbc:mysql://localhost/JClicReports</span><br>
       <br>
       Es importante escribirlo tal como se indica, teniendo en cuenta los puntos, sin espacios y distinguiendo entre may&uacute;sculas y min&uacute;sculas.</li>
   <li>Escriba el nombre de <strong>usuario de la base de datos </strong> y la <strong> contrase&ntilde;a</strong>. En el ejemplo se han utilizado los siguientes datos:
     <ul>
       <li>Usuario: jclic_user</li>
       <li>Contrase&ntilde;a: jclic_pwd </li>
     </ul>
   </li>
   <li>Deje marcada la casilla <strong>Crear tablas si no existen</strong>,
     y deje tambi&eacute;n el prefijo <strong>JCLIC_</strong> para los nombres de tablas.</li>
   <li>En la pestanya <strong>Servidor web</strong> indique un n&uacute;mero de puerto superior a 1024. Por ejemplo, el 9000 (los puertos inferiores a 1024 solo los puede utilizar el usuario <em>root</em>) </li>
   <li>Confirme
       la operaci&oacute;n en <strong>Aceptar</strong>.</li>
   </ul>
   <p>Con eso tendr&aacute; <strong>JClic reports</strong> preparado para trabajar con la base de datos.</p>
   <p>Para comprobar el funcionamiento haga clic en <strong>Iniciar el navegador</strong>. Si todo ha ido correctamente se pondr&aacute; en marcha Mozilla, Firefox o cualquier otro navegador (se puede selecciona en <strong>Opciones</strong>) donde se mostrar&aacute; una primera p&aacute;gina en la que se pide una contrase&ntilde;a, que inicialmente hay que dejar en blanco. Si ha cargado los datos de demostraci&oacute;n puede entrar en los informes de grupo y de usuario, y visualizar los diversos tipos de tablas y gr&aacute;ficos que ofrece el programa. Haga clic en los botones &quot;Enviar datos&quot; para ver los resultados. </p>
   <p>En este momento puede ser conveniente navegar hacia la secci&oacute;n <strong>Administraci&oacute;n de la base de datos</strong> y realizar dos operaciones:</p>
   <ul>
     <li>Establecer una <strong>contrase&ntilde;a</strong>, que impedir&aacute; que personas no autorizadas tengan acceso a la aplicaci&oacute;n.</li>
     <li>Decidir la <strong>pol&iacute;tica de altas</strong> de nuevos usuarios. Hay tres opciones:<br>
         <ol>
           <li>Dejar que cualquier usuario pueda crear grupos y darse de alta con el nombre que desee.</li>
           <li>Crear manualmente los grupos, y dejar que los alumnos lo seleccionen y se den de alta por si mismos la primera vez que utilicen JClic.</li>
           <li>Crear manualmente todos los grupos y usuarios, o importarlos de alguna otra base de datos. Para efectuar importaciones le resultar&aacute; &uacute;til consultar el <a href="..//pub/reports/JClicReports_tables_es.pdf">esquema de tablas</a> de <strong>JClic reports</strong>.</li>
         </ol>
         En la mayor&iacute;a de casos lo mas recomendable es empezar por la segunda opci&oacute;n, impidiendo m&aacute;s adelante la creaci&oacute;n de nuevos usuarios, cuando todos los alumnos se hayan dado ya de alta.</li>
   </ul>
   <p class="t2">4. Configuraci&oacute;n de los clientes JClic</p>
   <p>Es necesario configurar los clientes <strong>JClic</strong> para que se conecten con el servidor <strong>JClic reports</strong> y le env&iacute;en informaci&oacute;n sobre las actividades realizadas.</p>
   <p>Los pasos a seguir son:</p>
   <ol>
     <li>Aseg&uacute;rese de que <strong>JClic reports</strong> est&eacute; funcionando en alg&uacute;n ordenador de la red. </li>
     <li>Haga clic en <strong>Configuraci&oacute;n</strong> de <strong>JClic reports</strong> y vaya a la pesta&ntilde;a <strong>Servidor web</strong>. Anote el valor del <strong>Puerto</strong> de comunicaciones, que normalmente es 9000.</li>
     <li>Averig&uuml;e tambi&eacute;n el <strong>nombre</strong> o la <strong>direcci&oacute;n IP</strong> del ordenador en el que funciona JClic reports. Puede utilizar su nombre de red (por ejemplo, &ldquo;servidor&rdquo;) o su direcci&oacute;n IP (cuatro n&uacute;meros separados por puntos, como por ejemplo &ldquo;192.168.1.10&rdquo;).</li>
     <li>Ponga en marcha <strong>JClic</strong> desde cualquier ordenador de la red. Puede hacerlo mediante el bot&oacute;n que se muestra en la <a href="../download.htm">p&aacute;gina de descarga de JClic</a>, o desde los iconos que se crear&aacute;n en el escritorio y en el men&uacute; <em>Inicio</em> cuando lo haya activado un par de veces. En la secci&oacute;n de <a href="../faqjclic.htm#faq0">preguntas frecuentes</a> encontrar&aacute; m&aacute;s informaci&oacute;n sobre l creaci&oacute;n de accesos directos para poner en marcha JClic.</li>
     <li>En JClic, vaya a <strong>Herramientas </strong> - <strong>Configuraci&oacute;n</strong> y seleccione la pesta&ntilde;a <strong>Informes</strong>.</li>
     <li>Marque la casilla <strong>Guardar los resultados de las actividades en una base de datos</strong>.</li>
     <li>Seleccione la opci&oacute;n <strong>Conectarse a un servidor de informes JClic</strong>, y escriba en el campo <strong>Servidor</strong> el nombre o la IP del ordenador en el que est&aacute; funcionando JClic reports, seguido de dos puntos y el n&uacute;mero de puerto. Ser&aacute; una expresi&oacute;n similar a una de estas:
               <p class="codi">192.168.1.10:9000<br>
      servidor:9000</p>
     </li>
     <li> Confirme los cambios, cierre <strong>JClic</strong> y vuelva a ponerlo en marcha. Si todo va bien deber&iacute;a aparecer la pantalla de identificaci&oacute;n, y <strong>JClic reports</strong> empezar&aacute; a registrar los resultados de todas las actividades que realice.</li>
     <li>Repita los pasos 4, 5, 6 y 7 en todos los ordenadores en los que desee activar el sistema de informes de JClic.</li>
   </ol>
   <p class="t2">Consejos</p>
   <ul>
     <li>Haga copias de seguridad de la base de datos con regularidad.
          Basta con guardar en alg&uacute;n lugar seguro un duplicado del directorio <strong>/var/lib/mysql</strong>,
          o utilizar alguna utilidad como la exportaci&oacute;n de datos que
          ofrece <strong>phpMyAdmin</strong>.</li>
     <li>La contrase&ntilde;a de acceso a la base de datos permite efectuar todo tipo de operaciones, desde consultar resultados hasta borrar usuarios y grupos enteros. En futuras versiones mejoraremos este sistema creando diversos perfiles de administraci&oacute;n y acceso, pero actualmente hay una &uacute;nica llave de acceso al sistema. Mant&eacute;ngala en lugar seguro.</li>
     <li>Si necesita m&aacute;s seguridad (acceso restringido a la base de datos, monitorizaci&oacute;n de accesos, etc.) instale la <a href="index.htm#mod">modalidad avanzada</a>, que utiliza la base datos <strong>mySQL</strong> y el servidor de aplicaciones <strong>Apache Tomcat</strong>.</li>
   </ul>
   <!-- InstanceEndEditable --><!-- InstanceBeginEditable name="addThis" -->
   <hr style="margin-top: 40px;"><!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style">
<a href="https://www.addthis.com/bookmark.php?v=250&username=clic" class="addthis_button_compact">Share</a>
<span class="addthis_separator">|</span>
<a title="Send to Facebook" class="addthis_button_facebook"></a>
<a title="Send to Twitter" class="addthis_button_twitter"></a>
<a title="Send to Delicious" class="addthis_button_delicious"></a>
<a title="Add to favorites" class="addthis_button_favorites"></a>
<a title="Email to a friend using Gmail" class="addthis_button_gmail"></a>
</div>
<script type="text/javascript" src="https://s7.addthis.com/js/250/addthis_widget.js#username=clic"></script>
<!-- AddThis Button END --><!-- InstanceEndEditable --></td>
   <td width="20" background="../../../img/f0_r3_c4.gif">&nbsp;</td>
   <td width="1" background="../../../img/spacer.gif"><img src="../../../img/spacer.gif" width="1" height="20" border="0" alt=""></td>
  </tr>
  <tr>
   <td><img name="f0_r4_c2" src="../../../img/f0_r4_c2.gif" width="20" height="20" border="0" alt=""></td>
   <td><img name="f0_r4_c3" src="../../../img/f0_r4_c3.gif" width="718" height="20" border="0" alt=""></td>
   <td><img name="f0_r4_c4" src="../../../img/f0_r4_c4.gif" width="20" height="20" border="0" alt=""></td>
   <td><img src="../../../img/spacer.gif" width="1" height="20" border="0" alt=""></td>
  </tr>
  <!-- InstanceBeginEditable name="zonaExtra" --><!-- InstanceEndEditable -->
  <tr>
   <td colspan="4" bgcolor="#99CCCC" class="peu">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
	<tr>
	<td align="left"><!-- InstanceBeginEditable name="postPeuEsquerre" --><!-- InstanceEndEditable --></td>
	<td align="center">
	<a href="http://www.gencat.cat/educacio/"><img src="../../../img/depeducacio.gif" alt="Generalitat de Catalunya - Departament d'Educaci&oacute;" width="130" height="23" border="0"></a>
	<img src="../../../img/spacer.gif" width="100" height="1" border="0" alt="">
    <a href="http://www.xtec.cat/"><img src="../../../img/xtec.gif" alt="Xarxa Telem&agrave;tica Educativa de Catalunya" width="178" height="23" border="0"></a> 
          <!-- InstanceBeginEditable name="postPeu" --><!-- InstanceEndEditable -->
    </td>
	<td align="right"><!-- InstanceBeginEditable name="postPeuDret" --><!-- InstanceEndEditable --></td>
     </tr>
     </table>
   </td>
  </tr>
 </table>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-2006596-1");
pageTracker._trackPageview();
</script></body>
<!-- InstanceEnd --></html>
